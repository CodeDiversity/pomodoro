---
phase: 06-redesign
plan: 02
type: execute
wave: 2
depends_on: [06-01]
files_modified:
  - src/components/TimerDisplay.tsx
  - src/components/TimerControls.tsx
  - src/components/NotePanel.tsx
  - src/components/TagInput.tsx
  - src/App.tsx
autonomous: false

must_haves:
  truths:
    - Timer displays with circular blue progress ring
    - Timer shows large typography for time digits
    - DEEP WORK badge appears above timer
    - Play/pause button is centered blue circle
    - Skip and reset are icon buttons below
    - Daily goal indicator shows X/8 Sessions with progress bar
    - Notes panel appears to the right of timer in split-pane layout
    - Notes panel has task input, formatting toolbar, and tags
  artifacts:
    - path: src/components/TimerDisplay.tsx
      provides: Circular timer with progress ring
      exports: [TimerDisplay]
    - path: src/components/TimerControls.tsx
      provides: Centered play/pause with icon buttons
      exports: [TimerControls]
    - path: src/components/NotePanel.tsx
      provides: Redesigned notes panel
      exports: [NotePanel]
    - path: src/components/TagInput.tsx
      provides: Tag pills/chips
      exports: [TagInput]
  key_links:
    - from: src/App.tsx
      to: src/components/TimerDisplay.tsx
      via: timer view render
    - from: src/App.tsx
      to: src/components/NotePanel.tsx
      via: side-by-side layout in timer view
---

<objective>
Redesign the timer view with a circular progress ring, split-pane layout, and modernized notes panel. This is the core visual transformation of the app.

Purpose: Create the focal point of the redesign - an elegant circular timer with integrated notes in a split-pane layout.
Output: Updated TimerDisplay with SVG progress ring, redesigned TimerControls, modernized NotePanel with task input and formatting toolbar.
</objective>

<execution_context>
@/Users/dev/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/06-redesign/06-CONTEXT.md
@/Users/dev/Documents/youtube/pomodoro/src/components/TimerDisplay.tsx
@/Users/dev/Documents/youtube/pomodoro/src/components/TimerControls.tsx
@/Users/dev/Documents/youtube/pomodoro/src/components/NotePanel.tsx
@/Users/dev/Documents/youtube/pomodoro/src/components/TagInput.tsx

## Current State
- TimerDisplay: Rectangular colored box with time text
- TimerControls: Horizontal button bar with primary button and menu
- NotePanel: Simple card with textarea
- TagInput: Below notes in App.tsx

## Target State (from CONTEXT.md)
- Circular timer with blue progress ring
- Large 24:59 typography
- DEEP WORK badge above
- Play/pause in blue circle center
- Skip/reset as icon buttons
- Daily goal: 4/8 Sessions with progress bar
- Notes panel on right side (split-pane)
- Task input, formatting toolbar, tags as pills
- Pro Tip card, Complete Session button
</context>

<tasks>

<task type="auto">
  <name>Task 1: Redesign TimerDisplay with circular progress ring</name>
  <files>src/components/TimerDisplay.tsx</files>
  <action>
Redesign TimerDisplay to use a circular progress ring:

1. Keep the formatTime helper function
2. Create an SVG-based circular progress indicator:
   - Circle radius: 120px (240px diameter)
   - Stroke width: 8px
   - Background circle: #E8E8E8 (light gray track)
   - Progress circle: #0066FF (blue progress)
   - Use stroke-dasharray and stroke-dashoffset for progress

3. Layout structure:
   - Container: flex column, center aligned
   - DEEP WORK badge at top (when mode === 'focus'):
     - Background: #F0F7FF (light blue)
     - Text: #0066FF (blue)
     - Padding: 6px 16px
     - Border radius: 16px
     - Font size: 0.85rem, font-weight: 600
     - Uppercase, letter-spacing: 1px
   - SVG circle centered with time text overlay
   - Time text: 4rem font-size, font-weight: 700, tabular-nums
   - Daily goal indicator at bottom:
     - Text: "4/8 Sessions" (use sessionCount from props)
     - Progress bar: 200px wide, 6px height, rounded
     - Progress fill: #0066FF

4. Calculate progress:
   - Total duration depends on mode (focus: 25min, shortBreak: 5min, longBreak: 15min)
   - Progress = (totalDuration - timeRemaining) / totalDuration
   - circumference = 2 * PI * radius
   - dashoffset = circumference * (1 - progress)

5. Remove the old DisplayContainer, ModeBadge, SessionCounter, RunningIndicator styled components
6. Keep props interface but add daily goal props if needed
  </action>
  <verify>grep -q "stroke-dasharray" src/components/TimerDisplay.tsx && grep -q "DEEP WORK" src/components/TimerDisplay.tsx</verify>
  <done>TimerDisplay renders circular progress ring with DEEP WORK badge and daily goal</done>
</task>

<task type="auto">
  <name>Task 2: Redesign TimerControls for centered layout</name>
  <files>src/components/TimerControls.tsx</files>
  <action>
Redesign TimerControls for the new centered button layout:

1. New layout structure:
   - Container: flex column, center aligned, gap: 16px
   - Primary play/pause button: 64px diameter circle
     - Background: #0066FF
     - Icon: Play (▶) or Pause (⏸) in white, 24px
     - Hover: #0052CC
     - Box shadow: 0 4px 12px rgba(0, 102, 255, 0.3)
   - Secondary buttons row below:
     - Skip and Reset as icon buttons
     - 40px diameter circles
     - Background: transparent
     - Border: 1px solid #E0E0E0
     - Icons: Skip (skip-forward), Reset (rotate-ccw) - use inline SVG
     - Hover: background #F5F5F5

2. Remove the menu/dropdown pattern entirely
3. Keep all props and callback functions the same
4. Inline SVG icons (20x20, stroke-width 2):
   - Play: polygon points for play triangle
   - Pause: two rectangles
   - Skip: arrow with line
   - Reset: circular arrow

5. Add aria-labels for accessibility
6. Remove MenuContainer, MenuToggle, Menu, MenuItem styled components
  </action>
  <verify>grep -q "64px" src/components/TimerControls.tsx && grep -q "border-radius: 50%" src/components/TimerControls.tsx</verify>
  <done>TimerControls has centered circular play button with icon buttons below</done>
</task>

<task type="auto">
  <name>Task 3: Redesign NotePanel with modern styling</name>
  <files>src/components/NotePanel.tsx</files>
  <action>
Redesign NotePanel for the new modern aesthetic:

1. New structure and styling:
   - Panel: white background, 1px border #E8E8E8, border-radius 12px, padding 24px
   - Header: "Active Session" title, font-size 1.1rem, font-weight 600
   - Task input field:
     - Label: "What are you working on?"
     - Input: full width, padding 12px, border 1px solid #E0E0E0, border-radius 8px
     - Placeholder: "Enter your task..."
     - Focus: border-color #0066FF, box-shadow 0 0 0 3px rgba(0, 102, 255, 0.1)
   - Formatting toolbar:
     - Row of icon buttons: Bold, List, Link
     - 36px square buttons, subtle hover background
     - Icons: inline SVG (Bold: B, List: bullet points, Link: chain)
   - Textarea:
     - Min-height: 200px
     - Border: 1px solid #E0E0E0
     - Border-radius: 8px
     - Padding: 16px
     - Placeholder: "Capture your thoughts, ideas, and progress..."
     - Focus: border-color #0066FF
   - Tags section:
     - Label: "Tags"
     - Existing tags as pills (reuse TagInput or integrate here)
     - "+ Add Tag" button

2. Keep existing props interface
3. Add local state for task input if needed
4. Keep save status and character counter at bottom
5. Remove the old Header, HeaderIcon, HeaderLabel pattern
6. Use the new theme colors
  </action>
  <verify>grep -q "What are you working on" src/components/NotePanel.tsx && grep -q "border-radius: 12px" src/components/NotePanel.tsx</verify>
  <done>NotePanel has task input, formatting toolbar, and modern card styling</done>
</task>

<task type="auto">
  <name>Task 4: Update TagInput for pill/chip styling</name>
  <files>src/components/TagInput.tsx</files>
  <action>
Update TagInput to use pill/chip styling:

1. Tag pills styling:
   - Background: #F0F7FF (light blue)
   - Text: #0066FF (blue)
   - Border: 1px solid #0066FF
   - Border-radius: 16px (full rounded)
   - Padding: 4px 12px
   - Font-size: 0.85rem
   - Display: inline-flex with X remove button

2. Remove button (X):
   - 16px circle
   - Background: transparent
   - Hover: rgba(0, 102, 255, 0.1)
   - Margin-left: 6px

3. Add tag input field:
   - Border: 1px solid #E0E0E0
   - Border-radius: 8px
   - Padding: 8px 12px
   - Placeholder: "+ Add Tag"
   - Focus: border-color #0066FF

4. Keep existing props interface and suggestions functionality
5. Remove the old tag styling (colored backgrounds, different shapes)
6. Ensure tags wrap in a flex container with gap: 8px
  </action>
  <verify>grep -q "border-radius: 16px" src/components/TagInput.tsx && grep -q "#F0F7FF" src/components/TagInput.tsx</verify>
  <done>TagInput renders tags as blue pills with remove buttons</done>
</task>

<task type="auto">
  <name>Task 5: Implement split-pane timer layout in App.tsx</name>
  <files>src/App.tsx</files>
  <action>
Update App.tsx to render timer view in split-pane layout:

1. For the timer view (viewMode === 'timer'):
   - Create a split-pane container:
     - Display: flex
     - Gap: 32px
     - Max-width: 1000px
     - Margin: 0 auto
   - Left pane (timer):
     - Flex: 1
     - Display: flex column
     - Align items: center
     - Gap: 24px
     - Contains: TimerDisplay, TimerControls
   - Right pane (notes):
     - Flex: 1
     - Max-width: 480px
     - Contains: NotePanel, TagInput

2. Remove the old vertical stacking layout for timer view
3. Keep the timer state management and callbacks unchanged
4. Ensure the layout is responsive:
   - On smaller screens, stack vertically (Claude's discretion on breakpoint)
5. Add a "Complete Session" button at bottom of notes panel:
   - Full width
   - Background: #1A1A1A (dark)
   - Text: white
   - Border-radius: 8px
   - Padding: 12px
   - Calls handleSessionSkip (for now, or create new handler)

6. Add a "Pro Tip" card below the notes:
   - Background: #F0F7FF
   - Border-left: 3px solid #0066FF
   - Padding: 12px 16px
   - Text: "Tip: Take a moment to jot down what you accomplished before ending your session."
   - Font-size: 0.85rem
   - Margin-top: 16px
  </action>
  <verify>grep -q "flex.*gap.*32px" src/App.tsx || grep -q "split" src/App.tsx || grep -q "Complete Session" src/App.tsx</verify>
  <done>App.tsx renders timer and notes side-by-side in split-pane layout</done>
</task>

</tasks>

<verification>
- Timer shows circular blue progress ring
- Time display is large and centered
- DEEP WORK badge visible during focus mode
- Play/pause is prominent blue circle
- Skip/reset are icon buttons below
- Daily goal indicator shows progress
- Notes panel is on the right side
- Layout is split-pane (side by side)
</verification>

<success_criteria>
- TimerDisplay uses SVG circular progress
- TimerControls has centered circular button
- NotePanel has task input and formatting toolbar
- TagInput uses pill styling
- App.tsx renders split-pane layout
- Visual design matches mockup direction
</success_criteria>

<output>
After completion, create `.planning/phases/06-redesign/06-02-SUMMARY.md`
</output>
